{
  "hash": "9632d02da4c45159caaeb6f69853c4a2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Midterm\"\neditor: source\nfreeze: auto\npublished-title: \"Due date\"\ndate: 2024-05-08\ndate-modified: last-modified\nformat:\n  html:\n    toc: true\n    toc-depth: 5\n---\n\n\n[Due on Wednesday May 8 (Week 6) at 11:59 PM]{style=\"color: #79ACBD; font-size: 24px;\"}\n\n## Description\n\nIn this midterm, you will demonstrate your ability to synthesize lecture concepts and technical skills from workshop. At this point, you have the _conceptual_ ideas you need (for example, what is the appropriate test to use if you want to compare groups?) and the _technical_ skills you need (for example, summarizing data, visualizing data). You also have the _investigative_ skills you need (for example, reading for tasks, googling!). You will use all these components to complete the midterm.  \n\nThis midterm is open note, open internet, open everything; feel free to also talk with classmates and friends. \n\n\n::: {.cell}\n\n:::\n\n\n## Problem 1. Test choice, assumptions, and communication (21 points)\n\n### Skills you will demonstrate\n\nIn this problem, **you will demonstrate your ability to come up with an \"analysis plan\"** by articulating what hypotheses you are testing, and what tests are appropriate for those hypotheses. You will also **demonstrate your ability to interpret code output and synthesize the statistics in writing to ground the stats in biology** for a scientific audience.  \n\n### Description\n\nYou’re the manager of a reserve that burned in a major wildfire a year ago. Plants have started to grow back in some areas, but things still don't look quite right. You wonder if the soil phosphorus content (expressed in parts per million, ppm) has something to do with how plants are (or are not) returning to burned areas. You want to compare soil phosphorus content in areas in the reserve with different burn histories: recently burned (within the last 2 years), historically burned (within the last 10 years), and unburned (not burned in the last 10 years).  \n\n\n::: {.cell}\n\n:::\n\n\n### Components\n\n#### a. Hypotheses (2 points)\n\nState your hypothesis in statistical terms. (1-2 sentences)   \n\n#### b. Tests (2 points)\n\nWhat kind of _parametric_ statistical test could you use to test the null hypothesis? Justify your use of this test by describing why it is appropriate for the response and predictor variables you have. (1-2 sentences)  \n\n#### c. Assumptions (3 points)\n\nWhat are the assumptions you would have to meet to use the test? (1-2 sentences)  \n\n#### d. Alternate routes (2 points)\n\nIf your data did not meet the assumptions of this test, what other test(s) could you do? Justify your potential use of this test. (1-2 sentences)   \n\n#### e. Exporatory data visualization (2 points)\n\nAfter coming up with your analysis plan (in parts a-d), you collect samples from all three areas of the reserve (n = 35 for each sample). To explore your data, you make the following graph:\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](midterm_files/figure-html/problem-1-viz-1.png){width=672}\n:::\n:::\n\n\nDescribe whether or not there could be a difference in phosphorus soil content between burned and unburned treatments. Use components from the figure to justify your description. (1-2 sentences)\n\n#### f. Normality (2 points)\n\nYou then make a QQ plot and test for normality. \n\n**This is your QQ plot:**\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](midterm_files/figure-html/problem-1-qq-1.png){width=672}\n:::\n:::\n\n\n**And this is your output of a test for normality:**\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tShapiro-Wilk normality test\n\ndata:  historic_burn\nW = 0.97773, p-value = 0.684\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tShapiro-Wilk normality test\n\ndata:  recent_burn\nW = 0.96896, p-value = 0.4152\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tShapiro-Wilk normality test\n\ndata:  unburned\nW = 0.96529, p-value = 0.3273\n```\n\n\n:::\n:::\n\n\nUsing the figure and the results from the test you ran, describe whether your variable is normally distributed enough. If you have evidence to suggest your variable is not normally distributed, describe why you could continue using a parametric test. (1-2 sentences)  \n\n#### g. Variances (2 points)\n\nYou then calculate the variances for each group and run a test for equal variances.\n\n**This is the output for your calculation of variances:**\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3 × 2\n  treatment        var\n  <chr>          <dbl>\n1 historic_burn 0.0328\n2 recent_burn   0.0135\n3 unburned      0.0216\n```\n\n\n:::\n:::\n\n\n**And the output of your variance test:**\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in leveneTest.default(y = y, group = group, ...): group coerced to\nfactor.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nLevene's Test for Homogeneity of Variance (center = median)\n       Df F value  Pr(>F)  \ngroup   2  4.1822 0.01796 *\n      102                  \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\nUsing your calculated variances and output of the test you ran, describe whether your variances are equal enough. (1-2 sentences)\n\n#### h. Test and communication (6 points)\n\nYou run your statistical test. Following your test, you also decide to do a post-hoc analysis and calculate an effect size.  \n\n**This is your test output:**\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n             Df Sum Sq Mean Sq F value   Pr(>F)    \ntreatment     2  2.242  1.1210   49.51 9.42e-16 ***\nResiduals   102  2.310  0.0226                     \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\n**This is your post-hoc output:**\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n  Tukey multiple comparisons of means\n    95% family-wise confidence level\n\nFit: aov(formula = p_ppm ~ treatment, data = soil_data)\n\n$treatment\n                                diff         lwr        upr   p adj\nrecent_burn-historic_burn  0.1624826  0.07692837  0.2480369 5.0e-05\nunburned-historic_burn    -0.1949605 -0.28051474 -0.1094062 1.2e-06\nunburned-recent_burn      -0.3574431 -0.44299738 -0.2718888 0.0e+00\n```\n\n\n:::\n:::\n\n\n**And this is your effect size output:**\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stderr}\n\n```\nFor one-way between subjects designs, partial eta squared is equivalent\n  to eta squared. Returning eta squared.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Effect Size for ANOVA\n\nParameter | Eta2 |       95% CI\n-------------------------------\ntreatment | 0.49 | [0.38, 1.00]\n\n- One-sided CIs: upper bound fixed at [1.00].\n```\n\n\n:::\n:::\n\n\nYou want to report your results to the other managers at the reserve. In 2-3 sentences, describe your results.  \n\n## Problem 2. Reproducing an analysis (41 points)\n\n### Skills you will demonstrate\n\nIn environmental studies, open research means that researchers make their data and/or their code available for anyone to see. This means that anyone should be able to reproduce the analysis, even if they are not on the research team. **In this problem, you will demonstrate your ability to read a paper to understand the context for a research study and its statistical analysis. You will then demonstrate your ability to take a data set and analyze it, using the researchers' original analysis as a guide.**  \n\nWhen reproducing someone else's analysis, you should be able to get the same exact results (for example: test statistics, summary statistics) that they do. When doing this problem, double check your work against the text/figures in the paper. Did you get it right?\n\n### Description\n\nYou will reproduce the analysis in Beheshti, K. M., K. Wasson, C. Angelini, B. R. Silliman, and B. B. Hughes. 2021. Long-term study reveals top-down effect of crabs on a California salt marsh. Ecosphere 12(8):e03703. [10.1002/ecs2.3703](https://doi.org/10.1002/ecs2.3703).  \n\n**Read all parts of the paper before starting this problem.**  \n\nYou will specifically recreate the components in this passage:  \n\n> In trial (i) with pickleweed root only, there was less pickleweed root biomass in treatments (M~T~ \n> = 0.21, SD~T~ = 0.07) than controls (M~C~ = 0.34, SD~C~ = 0.05), indicating crab consumption of \n> roots (Fig. 6, Welch’s two-sample t-test; t(20.5) = 5.55, P < 0.0001). In trial (ii) with algae only, \n> there was less algal biomass in treatments (M~T~ = 0.12, SD~T~ = 0.11) than controls (M~C~ = 0.33, \n> SD~C~ = 0.03), indicating crab consumption of algae (Fig. 6, Welch’s two-sample t-test; t(13.05) = 6.098, \n> P < 0.0001). Lastly, in trial (iii) with both algae and pickleweed offered simultaneously, treatments \n> had less biomass than controls for both pickleweed roots (M~T~ = 0.24, SD~T~ = 0.07, and M~C~ = 0.32, \n> SD~C~ = 0.03) and algae (M~T~ = 0.08, SD~T~ = 0.15, and M~C~ = 0.28, SD~C~ = 0.10), indicating that \n> crabs consume pickleweed roots as well as algae when both are offered (Fig. 6, Welch’s two-sample t-test; \n> pickleweed roots, t(11.03) = 3.00, P = 0.012; algae t(14.40) = 3.20, P = 0.006).  \n\n#### Getting the data\n\nOnce you have read the paper, find the open research statement at the end of the paper. Navigate to the database using the link that is provided. Download the data into your midterm directory. To understand the data structure, read the `README`, which is a description of the data.  \n\n### Components\n\n#### a. Feeding trials (2 points)\n\nIn 1-2 sentences, explain why the authors conducted feeding trials and how they analyzed the data from their feeding trials.  \n\n#### b. Comparisons (2 points)\n\nIn 1-2 sentences, explain the difference(s) between the three feeding trials.  \n\n#### c. Response variable (2 points)\n\nIn 1-2 sentences, explain the biological interpretation of the difference in mean dry weight between control and treatments in the feeding trials. For example, if mean dry weight is lower in the treatment than the control, what would be your biological explanation for why that is the case?  \n\n#### d. Reading in the data (2 points)\n\nLoad in the data and do any cleaning/wrangling steps you need.\n \n#### e. Summary statistics (8 points)\n\nCalculate the mean and standard deviation of:\n\n  - pickleweed root biomass in control and treatment for trial (i)  \n  - algal biomass in control and treatment for trial (ii)  \n  - both pickleweed and algal biomass in control and treatment for trial (iii)  \n    \nDisplay your results.  \n\n#### f. Welch's t-tests (10 points)\n\nConduct Welch's t-tests comparing biomasses between control and treatment in: \n\n  - trial (i)    \n  - trial (ii)  \n  - trial (iii)    \n    \nDisplay the outputs for all 3 tests.\n\n#### g. Making a new figure (11 points)\n\nPlots like Figure 6 show means and whiskers (in this case, standard error), but do not show the data structure and can mask important information about the spread of the observations in each sample.  \n\nMake a new figure for figure 6 that displays the mean and standard error (as in figure 6) but shows the underlying data. Finalize it.  \n\nFor full credit:  \n\n  - take out the gridlines  \n  - jitter the underlying data horizontally but _not_ vertically  \n  - give each type a different color that is different from the `ggplot()` default color  \n  - make the underlying data more transparent than the dot and whisker  \n  - make the dot and whisker larger than the underlying data   \n  - take out the legend  \n\n#### h. Caption (4 points)\n\nWrite a caption for your figure in part i. Include a data citation, if appropriate.\n\n## Problem 3. Cleaning, wrangling, and visualization (19 points)\n\n### Skills you will demonstrate\n\nFigures are built on data; however, to make a figure, you need to understand the data structure and any cleaning, wrangling, or summarizing steps to create it. In this problem, **you will demonstrate your ability to clean, wrangle, and/or summarize a data set to create a figure**, using a final figure as a guide.\n\n### Description\n\nIn this problem, you will use the `arc_weather` dataset from `lterdatasampler` to recreate this figure. \n\n![](/assignments/images/midterm/arc_weather_figure.jpg)\n\nThe caption for the figure is as follows:  \n\n**Figure 1. Toolik Field Station is above freezing between May and September.** Blue lines represent mean monthly air temperature for a given year (1988 - 2018), with lines becoming darker with more recent years. Horizontal black dashed line at 0 °C for reference. Data source: Horst A, Brun J (2023). _lterdatasampler: Educational Dataset Examples from the Long Term Ecological Research Program_. R package version 0.1.1, <https://CRAN.R-project.org/package=lterdatasampler>.  \n\nApproach:  \n\nYou will need to clean/wrangle the data before making this figure. Your final data frame should look something like this:  \n\n![](/assignments/images/midterm/dataframe-example.png){width=50%}\n\n### Components\n\n#### a. Initial cleaning, wrangling, and summarizing (6 points)\n\nWrite your code to create `arc_weather_clean`, a clean and wrangled data frame. Annotate each line of code.\n\nOnce you're done, display the first 10 rows of your data frame using `head(arc_weather_clean, 10)` in your script.  \n\n:::{.callout-tip}\n##### Problem prep - do this on scratch paper (not in your document)\n\nIn words (not code), write the list of functions/arguments that would get you to the final data frame. For example:\n\n1. Create a data frame called `arc_weather_clean`. Start with `arc_weather` data frame, and then...  \n2. [insert next step here], and then...  \n3. [insert next step here], and then...  \n4. [insert next step here], and then...  \n\nand so on. Use these steps to guide the code you write. Code not working? Rewrite your steps on scratch paper and try again.\n:::\n\n#### b. Make the figure (13 points)\n\nWrite your code to recreate the figure. Display the output.  \n\n:::{.callout-tip}\n### Problem prep - do this on scratch paper (not in your document)\n\nMake a list of the arguments in the `aes()` call and any `geom_()` calls you will need to use. What are the x- and y-axes, and what do the colors represent?  \n\n:::\n\n## Problem 4. Personal data (18 points)\n\n### Skills you will demonstrate\n\nUp until this point, we've created figures to represent data. In this problem, you will create a table to represent data from your personal data project. **You will demonstrate your understanding of data summarizing (for example, calculating a mean, counting observations), installing/loading packages, and your ability to apply packages/functions to your own use.**  \n\nBefore doing this problem, update your spreadsheet with your new observations.  \n\n### Components\n\n#### a. Data summarizing (2 points)\n\nIn 1-2 sentences, describe how you could summarize your data to compare your response variable between a categorical predictor variable of your choosing. For example, are you counting observations and comparing counts between groups? Are you taking the mean and comparing means between groups?\n\n#### b. Visualization (6 points)\n\nUsing the summary you described in part a, **create a visualization of your data comparing your summarized response variable between some categorical predictor variable**. If you are calculating a mean or median, show the underlying data in addition to your summary. Display the output. \n\n:::{.callout-note}\nSee [From Data to Viz](https://www.data-to-viz.com/) for new ideas for visualization.  \n:::\n\n#### c. Caption (4 points)\n\nWrite a caption for your figure.\n\n#### d. Table presentation (6 points)\n\nUsing the `flextable` package (package info [here](https://ardata-fr.github.io/flextable-book/), gallery of examples [here](https://ardata.fr/en/flextable-gallery/)), create a table with the same data summary that you describe in part a and visualized in part b. For example, if you described and visualized means, make a table with means. Display the output.  \n\n## Checklist\n\nYour submission should:\n\n- Include your name, the title (“Midterm”), and the date you turned in your midterm **(3 points)**  \n- Include for Problem 1:  \n    - written responses for a-h  \n- Include for Problem 2:  \n    - written responses for a-c    \n    - full work (R code and annotations), output, and written response for d-g   \n    - written response for h  \n- Include for Problem 3:\n    - full work (R code and annotations) and output for a-b  \n- Include for Problem 4:  \n    - written response for a  \n    - full work (R code and annotations) and output for b    \n    - written response for c  \n    - full work (R code and annotations) and output for d  \n- be uploaded to Canvas as a single PDF **(1 point)**  \n- be organized and readable: a rendered Quarto document without any messages/warnings and figure output formatted correctly **(10 points)**\n\n**113 points total**\n\n\n\n\n",
    "supporting": [
      "midterm_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}