{
  "hash": "504061bbbd538eb1f90999fb397771ba",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Finalizing plots\"\ndescription: \"tips for making your plots readable and professional\"\nauthor:\n  - name: An Bui\n    url: https://an-bui.com/\n    affiliation: UC Santa Barbara, Ecology, Evolution, and Marine Biology\n    affiliation-url: https://www.eemb.ucsb.edu/\nformat:\n  html: \n    code-fold: true\nfreeze: auto\ncategories: [data visualization]\ncitation:\n  url: https://an-bui.github.io/ES-193DS-W23/resources/finalizing-plots.html\n---\n\n\n# Why do we care about how plots, figures, graphs, etc. look?\n\nData visualization is a _huge_ part of data storytelling, one of the core parts of being a data scientist. This is _especially_ relevant to environmental science: you're responsible for communicating not just about the environment, but what evidence (i.e. data) supports your claim. Therefore, it is crucial that environmental scientists communicate about their data clearly and effectively.  \n\nIn this class, your plots will be assessed using three (very broad) criteria:  \n1. **accuracy**: is your plot accurately and _truthfully_ representing the data?  \n2. **clarity**: is your plot clearly representing a pattern, relationship, message?  \n3. **aesthetics**: does your plot look good?  \n\n# General rules for good-looking plots\n\n_(adapted from Allison Horst)_\n\n## Non-negotiable (if you are missing these, you will not get full credit for your plot)\n\n- Axes must have **complete** labels with units (very few exceptions to this)\n    - for example: body_mass_g should be \"Body mass (g)\"\n- If plotting regression or correlation lines, underlying data must be displayed on plot in addition to predicted lines  \n- In all other cases (for example, comparing means between groups), underlying data must be displayed on plot when possible  \n- Concise, descriptive title (if presented alone and not in a report)\n\n## Additional points  \n\n- logical start and end values of x or y axes (these are usually by default in `ggplot`, but you should double check)\n- if gridlines aren't useful to understand the data, remove them\n- figure background should be white (easier to see points)\n- text labels should be large enough to see/read clearly\n- use color sparingly and be aware of color-blind friendly palettes\n- use one font throughout a plot\n- figure fonts should match text font (for example, don't use Arial in a figure when the rest of your text is in Times New Roman)\n- make sure your plot size and aspect ratio renders correctly  \n\nIn general, **the simpler you can make a plot, the better.**\n\n# Bad/better examples\n\nSome examples of bad and better plots follow using data from the `{palmerpenguins}` package.\n\n\n::: {.cell}\n\n:::\n\n\n## Bar chart\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  group_by(island, species) %>% \n  count() %>% \n  ggplot(aes(x = species, y = n)) +\n  geom_col() +\n  labs(title = \"penguins\") +\n  facet_wrap(~island)\n```\n\n::: {.cell-output-display}\n![](finalizing-plots_files/figure-html/unnamed-chunk-2-1.png){width=768}\n:::\n:::\n\n\n**Why is this bad?**  \n- gap between bottom of bars and x-axis  \n- meaningless y axis  \n- gray background against gray bars and black text is hard to see  \n- gridlines don't do much\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  group_by(island, species) %>% \n  count() %>% \n  ggplot(aes(x = island, y = n)) +\n  # fill = fills in the shape, color = controls the outline\n  geom_col(fill = \"darkgrey\", color = \"#000000\") +\n  # expand takes away the gap at the bottom and at the top of the plot\n  # limits sets the limits of the axis\n  scale_y_continuous(expand = c(0, 0), limits = c(0, 130)) +\n  # change titles to be meaningful\n  labs(title = \"Penguin counts differ across species and islands\",\n       x = \"Island\", \n       y = \"Penguin count\") +\n  # one of the built-in themes in ggplot\n  theme_bw() +\n  theme(# changing text sizes\n        axis.text = element_text(size = 12),\n        axis.title = element_text(size = 14),\n        strip.text = element_text(size = 14),\n        # getting rid of gridlines\n        panel.grid = element_blank(),\n        # making the subplot titles (aka strips) have a transparent background\n        strip.background = element_blank(),\n        # making the plot title bigger and centering it\n        plot.title = element_text(size = 20, hjust = 0.5),\n        plot.title.position = \"plot\",\n        text = element_text(family = \"Times\")\n        ) +\n  facet_wrap(~species)\n```\n\n::: {.cell-output-display}\n![](finalizing-plots_files/figure-html/unnamed-chunk-3-1.png){width=768}\n:::\n:::\n\n\n**Why is this better?**  \n- text is bigger  \n- gridlines are gone  \n- easier to see columns agains background  \n- complete axes  \n- grayscale color scheme (good for printing out and paper reports in black and white)\n\n## Bonus plot: lollipop plot\n\nOne way to represent discrete (i.e. count) variables is to make a lollipop plot. This cuts down on visual clutter, as the bars in a bar chart are thick and take up a lot of space, but lollipop plots show the same thing but with smaller shapes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% \n  group_by(island, species) %>% \n  count() %>% \n  ggplot(aes(x = island, \n             y = n)) +\n  # fill = fills in the shape, color = controls the outline\n  geom_point(size = 3) +\n  geom_segment(aes(y = 0,\n                   yend = n)) +\n  \n  # expand takes away the gap at the bottom and at the top of the plot\n  # limits sets the limits of the axis\n  scale_y_continuous(expand = c(0, 0), limits = c(0, 130)) +\n  # change titles to be meaningful\n  labs(title = \"Penguin counts differ across species and islands\",\n       x = \"Island\", \n       y = \"Penguin count\") +\n  # one of the built-in themes in ggplot\n  theme_bw() +\n  theme(# changing text sizes\n        axis.text = element_text(size = 12),\n        axis.title = element_text(size = 14),\n        strip.text = element_text(size = 14),\n        # getting rid of gridlines\n        panel.grid = element_blank(),\n        # making the subplot titles (aka strips) have a transparent background\n        strip.background = element_blank(),\n        # making the plot title bigger and centering it\n        plot.title = element_text(size = 20, hjust = 0.5),\n        plot.title.position = \"plot\",\n        text = element_text(family = \"Times\")\n        ) +\n  facet_wrap(~species)\n```\n\n::: {.cell-output-display}\n![](finalizing-plots_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n## Scatterplot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins, aes(x = body_mass_g, y = flipper_length_mm)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](finalizing-plots_files/figure-html/unnamed-chunk-5-1.png){width=768}\n:::\n:::\n\n\n**Why is this bad?**  \n- grey background, black dots  \n- hides some meaningful variation across species (for example, we know that Gentoo penguins tend to be bigger than Adelie and Chinstrap)    \n- axes are meaningless  \n- small text size  \n- points likely overlap, so some parts of the data are hidden\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(penguins, aes(x = body_mass_g, y = flipper_length_mm, color = species, shape = species)) +\n  geom_point(size = 3, alpha = 0.7) +\n  # specify color scheme\n  scale_color_manual(values = c(\"darkorange\", \"cornflowerblue\", \"darkgreen\")) +\n  # meaningful titles\n  labs(title = \"Larger penguins tend to have longer flippers\",\n       x = \"Body mass (g)\", \n       y = \"Flipper length (mm)\",\n       # have to specify color and shape separately (based on color and shape in aes() call)\n       color = \"Penguin species\", shape = \"Penguin species\") +\n  # another ggplot built-in theme\n  theme_classic() +\n  theme(# putting legend in plot area\n        legend.position = c(0.85, 0.2),\n        # legend text sizes\n        legend.text = element_text(size = 14),\n        legend.title = element_text(size = 14),\n        # text size, position, and font adjustment\n        axis.text = element_text(size = 14), \n        axis.title = element_text(size = 16),\n        plot.title = element_text(size = 18, hjust = 0.5),\n        plot.title.position = \"plot\",\n        text = element_text(family = \"Garamond\")\n    )\n```\n\n::: {.cell-output-display}\n![](finalizing-plots_files/figure-html/unnamed-chunk-6-1.png){width=768}\n:::\n:::\n\n\n**Why is this better?**  \n- white background, no grid lines  \n- points are shaped and colored by species, so you can easily see the differences between groups    \n- transparency shows overlapping points  \n- complete axis labels    \n- text is larger and font is changed  \n- legend is in plot area (if there's space to do this, generally good)\n\n# Other plots\n\n## boxplot and jitter\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = penguins, aes(x = species, y = body_mass_g)) +\n  # fill the boxplot shape using the species column\n  # make the boxplots narrower\n  geom_boxplot(aes(fill = species), width = 0.2) +\n  # fill the violin shape using the species column: every species has a different color\n  # alpha argument: makes the violin shape more transparent (scale of 0 to 1)\n  geom_jitter(aes(color = species), alpha = 0.5) +\n  # specify the colors you want to use for each species\n  scale_color_manual(values = c(\"#F56A56\", \"#3D83F5\", \"#A9A20B\")) +\n  scale_fill_manual(values = c(\"#F56A56\", \"#3D83F5\", \"#A9A20B\")) +\n  # relabel the axis titles, plot title, and caption\n  labs(x = \"Penguin species\", y = \"Body mass (g)\",\n       title = \"Gentoo penguins tend to be heavier than Adelie or Chinstrap\",\n       caption = \"Data source: {palmerpenguins}, \\n Horst AM, Hill AP, Gorman KB.\") +\n  # themes built in to ggplot\n  theme_bw() +\n  # other theme adjustments\n  theme(legend.position = \"none\", \n        axis.title = element_text(size = 13),\n        axis.text = element_text(size = 12),\n        plot.title = element_text(size = 14),\n        plot.caption = element_text(face = \"italic\"),\n        text = element_text(family = \"Times New Roman\"),\n        panel.grid = element_blank())\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing non-finite outside the scale range\n(`stat_boxplot()`).\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Removed 2 rows containing missing values or values outside the scale range\n(`geom_point()`).\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](finalizing-plots_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "finalizing-plots_files/figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}